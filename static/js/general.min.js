jQuery(document).ready(function(){if(jQuery("#wrapper").addClass("loaded"),jQuery(".entry table tr:odd").addClass("alt-table-row"),jQuery(".post, .widget, .panel, .page, #featured-slider .slide-media").fitVids(),jQuery("ul.sub-menu, ul.children").parents("li").addClass("parent"),""!=jQuery("#post-entries")){var t=jQuery("#post-entries .nav-prev a").width(),e=jQuery("#post-entries .nav-next a").width();jQuery("#post-entries .nav-prev a").css("left",-(t-25)),jQuery("#post-entries .nav-next a").css("right",-(e-25))}jQuery("body.page .nav > li > ul, body.single-post .nav > li > ul, body.single-product .nav > li > ul").each(function(){var t=jQuery(this).parent("li").width();t=(t-170)/2-5,jQuery(this).css("margin-left",t)}),jQuery("body:not(.page, .single-post, .single-product) #header .nav .parent").mouseover(function(){jQuery(this).addClass("keep-open")}),jQuery("body:not(.page, .single-post, .single-product) #header").mouseleave(function(){jQuery(this).removeClass("keep-open")}),jQuery(".nav-toggle").click(function(t){t.preventDefault(),jQuery("body").toggleClass("show-nav"),jQuery("#navigation").find(".top-navigation").size()||jQuery("#top .top-navigation").clone().appendTo("#navigation .menus")}),jQuery(".nav-close").click(function(t){t.preventDefault(),jQuery("body").removeClass("show-nav")});var o=function(t,e){if(t)do{if(t.id===e)return!0;if(9===t.nodeType)break}while(t=t.parentNode);return!1};document.addEventListener&&document.addEventListener("touchstart",function(t){jQuery("body").hasClass("show-nav")&&!o(t.target,"navigation")&&(t.preventDefault(),jQuery("body").removeClass("show-nav"))},!0),jQuery("#projects h3").click(function(){jQuery(this).closest(".projectdetails").find(".articles-list").toggle()}),jQuery(".home-tabber li a").click(function(t){t.preventDefault(),jQuery(".home-tabber li").removeClass("active"),jQuery(this).parent().addClass("active");var e=jQuery(this).attr("href");return jQuery("#home-tabs div").hide(),jQuery(e).fadeIn(150,function(){jQuery(e).show()}),!1})}),function(){!function(t){t.bigfoot=function(e){var o,n,i,a,r,s,l,d,c,f,u,p,v,g,h,b,m,y,O,C,w,_,T,k,x,F,N;return i=void 0,c={actionOriginalFN:"hide",activateCallback:function(){},activateOnHover:!1,allowMultipleFN:!1,anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,anchorParentTagname:"sup",breakpoints:{},deleteOnUnhover:!1,footnoteParentClass:"footnote",footnoteTagname:"li",hoverDelay:250,numberResetSelector:void 0,popoverDeleteDelay:300,popoverCreateDelay:100,positionContent:!0,preventPageScroll:!0,scope:!1,useFootnoteOnlyOnce:!0,contentMarkup:'<aside class="bigfoot-footnote is-positioned-bottom" data-footnote-number="{{FOOTNOTENUM}}" data-footnote-identifier="{{FOOTNOTEID}}" alt="Footnote {{FOOTNOTENUM}}"> <div class="bigfoot-footnote__wrapper"> <div class="bigfoot-footnote__content"> {{FOOTNOTECONTENT}} </div></div> <div class="bigfoot-footnote__tooltip"></div> </aside>',buttonMarkup:'<div class=\'bigfoot-footnote__container\'> <button class="bigfoot-footnote__button" id="{{SUP:data-footnote-backlink-ref}}" data-footnote-number="{{FOOTNOTENUM}}" data-footnote-identifier="{{FOOTNOTEID}}" alt="See Footnote {{FOOTNOTENUM}}" rel="footnote" data-bigfoot-footnote="{{FOOTNOTECONTENT}}"> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> </button></div>'},T=t.extend(c,e),h={},p=function(){var e,o,n,i,a,r,l,d,c,u,p,v,g,h,b,y,O,w,_;for(u=T.scope?T.scope+' a[href*="#"]':'a[href*="#"]',n=t(u).filter(function(){var e,o;return e=t(this),("null"===(o=e.attr("rel"))||null==o)&&(o=""),(""+e.attr("href")+o).match(T.anchorPattern)&&e.closest("[class*="+T.footnoteParentClass+"]:not(a):not("+T.anchorParentTagname+")").length<1}),b=[],d=[],s(n,g=[]),t(g).each(function(){var e,o;return o=t(this).data("footnote-ref").replace(/[:.+~*\]\[]/g,"\\$&"),T.useFootnoteOnlyOnce&&(o+=":not(.footnote-processed)"),e=t(o).closest(T.footnoteTagname),e.length>0?(b.push(e.first().addClass("footnote-processed")),d.push(this)):void 0}),v=(o=t("[data-footnote-identifier]:last")).length<1?0:+o.data("footnote-identifier"),_=[],y=O=0,w=b.length;w>=0?w>O:O>w;y=w>=0?++O:--O)switch(p=m(t(b[y]).html().trim(),t(d[y]).data("footnote-backlink-ref")),p=p.replace(/"/g,"&quot;").replace(/&lt;/g,"&ltsym;").replace(/&gt;/g,"&gtsym;"),v+=1,c="",r=t(d[y]),l=t(b[y]),null!=T.numberResetSelector?(e=r.closest(T.numberResetSelector),e.is(i)?h+=1:h=1,i=e):h=v,0!==p.indexOf("<")&&(p="<p>"+p+"</p>"),c=T.buttonMarkup.replace(/\{\{FOOTNOTENUM\}\}/g,h).replace(/\{\{FOOTNOTEID\}\}/g,v).replace(/\{\{FOOTNOTECONTENT\}\}/g,p),c=C(c,"SUP",r),c=C(c,"FN",l),t(c).insertBefore(r),a=l.parent(),T.actionOriginalFN.toLowerCase()){case"hide":r.addClass("footnote-print-only"),l.addClass("footnote-print-only"),_.push(f(a));break;case"delete":r.remove(),l.remove(),_.push(f(a));break;default:_.push(r.addClass("footnote-print-only"))}return _},s=function(e,o){var n,i,a;null==o&&(o=[]),n=void 0,i=void 0,a=void 0,e.each(function(){var e,r;return r=t(this),i="#"+r.attr("href").split("#")[1],n=r.closest(T.anchorParentTagname),e=r.find(T.anchorParentTagname),n.length>0?(a=(n.attr("id")||"")+(r.attr("id")||""),o.push(n.attr({"data-footnote-backlink-ref":a,"data-footnote-ref":i}))):e.length>0?(a=(e.attr("id")||"")+(r.attr("id")||""),o.push(r.attr({"data-footnote-backlink-ref":a,"data-footnote-ref":i}))):(a=r.attr("id")||"",o.push(r.attr({"data-footnote-backlink-ref":a,"data-footnote-ref":i})))})},f=function(t){var e;return e=void 0,t.is(":empty")||0===t.children(":not(.footnote-print-only)").length?(e=t.parent(),"delete"===T.actionOriginalFN.toLowerCase()?t.remove():t.addClass("footnote-print-only"),f(e)):t.children(":not(.footnote-print-only)").length===t.children("hr:not(.footnote-print-only)").length?(e=t.parent(),"delete"===T.actionOriginalFN.toLowerCase()?t.remove():(t.children("hr").addClass("footnote-print-only"),t.addClass("footnote-print-only")),f(e)):void 0},m=function(t,e){var o;return e.indexOf(" ")>=0&&(e=e.trim().replace(/\s+/g,"|").replace(/(.*)/g,"($1)")),o=new RegExp("(\\s|&nbsp;)*<\\s*a[^#<]*#"+e+"[^>]*>(.*?)<\\s*/\\s*a>","g"),t.replace(o,"").replace("[]","")},C=function(t,e,o){var n,i,a;for(n=void 0,a=void 0,void 0,n=(i=new RegExp("\\{\\{"+e+":([^\\}]*)\\}\\}","g")).exec(t);n;)n[1]&&(a=o.attr(n[1])||"",t=t.replace("{{"+e+":"+n[1]+"}}",a)),n=i.exec(t);return t},a=function(e){var o,n,i;if(T.activateOnHover){if(o=t(e.target).closest(".bigfoot-footnote__button"),n='[data-footnote-identifier="'+o.attr("data-footnote-identifier")+'"]',o.hasClass("is-active"))return;o.addClass("is-hover-instantiated"),T.allowMultipleFN||(i=".bigfoot-footnote:not("+n+")",O(i)),d(".bigfoot-footnote__button"+n).addClass("is-hover-instantiated")}},k=function(e){var o,n,i;o=(i=t(e.target)).closest(".bigfoot-footnote__button"),n=i.closest(".bigfoot-footnote"),o.length>0?(e.preventDefault(),l(o)):n.length<1&&t(".bigfoot-footnote").length>0&&O()},l=function(t){var e;t.blur(),e='data-footnote-identifier="'+t.attr("data-footnote-identifier")+'"',t.hasClass("changing")||(t.hasClass("is-active")?T.allowMultipleFN?O(".bigfoot-footnote["+e+"]"):O():(t.addClass("changing"),setTimeout(function(){return t.removeClass("changing")},T.popoverCreateDelay),d(".bigfoot-footnote__button["+e+"]"),t.addClass("is-click-instantiated"),T.allowMultipleFN||O(".bigfoot-footnote:not(["+e+"])")))},d=function(e){var o,n;return o=void 0,o="string"!=typeof e&&T.allowMultipleFN?e:"string"!=typeof e?e.first():T.allowMultipleFN?t(e).closest(".bigfoot-footnote__button"):t(e+":first").closest(".bigfoot-footnote__button"),n=t(),o.each(function(){var e,i,a,s;a=t(this),s=void 0;try{return s=T.contentMarkup.replace(/\{\{FOOTNOTENUM\}\}/g,a.attr("data-footnote-number")).replace(/\{\{FOOTNOTEID\}\}/g,a.attr("data-footnote-identifier")).replace(/\{\{FOOTNOTECONTENT\}\}/g,a.attr("data-bigfoot-footnote")).replace(/\&gtsym\;/g,"&gt;").replace(/\&ltsym\;/g,"&lt;"),s=C(s,"BUTTON",a)}finally{e=t(s);try{T.activateCallback(e,a)}catch(t){}e.insertAfter(o),h[a.attr("data-footnote-identifier")]="init",e.attr("bigfoot-max-width",r(e.css("max-width"),e)),e.css("max-width",1e4),i=e.find(".bigfoot-footnote__content"),e.attr("data-bigfoot-max-height",r(i.css("max-height"),i)),w(),a.addClass("is-active"),e.find(".bigfoot-footnote__content").bindScrollHandler(),n=n.add(e)}}),setTimeout(function(){return n.addClass("is-active")},T.popoverCreateDelay),n},n=function(){var t,e;return t=document.createElement("div"),t.style.cssText="display:inline-block;padding:0;line-height:1;position:absolute;visibility:hidden;font-size:1em;",t.appendChild(document.createElement("M")),document.body.appendChild(t),e=t.offsetHeight,document.body.removeChild(t),e},r=function(t,e){return"none"===t?t=1e4:t.indexOf("rem")>=0?t=parseFloat(t)*n():t.indexOf("em")>=0?t=parseFloat(t)*parseFloat(e.css("font-size")):t.indexOf("px")>=0?60>=(t=parseFloat(t))&&(t/=parseFloat(e.parent().css("width"))):t.indexOf("%")>=0&&(t=parseFloat(t)/100),t},t.fn.bindScrollHandler=function(){return T.preventPageScroll?(t(this).on("DOMMouseScroll mousewheel",function(e){var o,n,i,a,r,s,l,d;return n=t(this),l=n.scrollTop(),s=n[0].scrollHeight,a=parseInt(n.css("height")),o=n.closest(".bigfoot-footnote"),n.scrollTop()>0&&n.scrollTop()<10&&o.addClass("is-scrollable"),o.hasClass("is-scrollable")?(i="DOMMouseScroll"===e.type?-40*e.originalEvent.detail:e.originalEvent.wheelDelta,d=i>0,r=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1},!d&&-i>s-a-l?(n.scrollTop(s),o.addClass("is-fully-scrolled"),r()):d&&i>l?(n.scrollTop(0),o.removeClass("is-fully-scrolled"),r()):o.removeClass("is-fully-scrolled")):void 0}),t(this)):t(this)},x=function(e){return T.deleteOnUnhover&&T.activateOnHover?setTimeout(function(){return t(e.target).closest(".bigfoot-footnote, .bigfoot-footnote__button"),t(".bigfoot-footnote__button:hover, .bigfoot-footnote:hover").length<1?O():void 0},T.hoverDelay):void 0},u=function(t){return 27===t.keyCode?O():void 0},O=function(e,o){var n,i,a,r;return null==e&&(e=".bigfoot-footnote"),null==o&&(o=T.popoverDeleteDelay),n=t(),r=void 0,i=void 0,a=void 0,t(e).each(function(){return a=t(this),r=a.attr("data-footnote-identifier"),i=t('.bigfoot-footnote__button[data-footnote-identifier="'+r+'"]'),i.hasClass("changing")?void 0:(n=n.add(i),i.removeClass("is-active is-hover-instantiated is-click-instantiated").addClass("changing"),a.removeClass("is-active").addClass("disapearing"),setTimeout(function(){return a.remove(),delete h[r],i.removeClass("changing")},o))}),n},w=function(e){var o;T.positionContent&&(o=e?e.type:"resize",t(".bigfoot-footnote").each(function(){var e,n,i,a,r,s,l,d,c,f,u,p,v,g;return i=t(this),a=i.attr("data-footnote-identifier"),'data-footnote-identifier="'+a+'"',i.find(".bigfoot-footnote__content"),e=i.siblings(".bigfoot-footnote__button"),v=_(e),s=parseFloat(i.css("margin-top")),l=+i.attr("data-bigfoot-max-height"),g=2*s+i.outerHeight(),d=1e4,u=v.bottomRoom<g&&v.topRoom>v.bottomRoom,r=h[a],u?("top"!==r&&(h[a]="top",i.addClass("is-positioned-top").removeClass("is-positioned-bottom"),i.css("transform-origin",100*v.leftRelative+"% 100%")),d=v.topRoom-s-15):(("bottom"!==r||"init"===r)&&(h[a]="bottom",i.removeClass("is-positioned-top").addClass("is-positioned-bottom"),i.css("transform-origin",100*v.leftRelative+"% 0%")),d=v.bottomRoom-s-15),i.find(".bigfoot-footnote__content").css({"max-height":Math.min(d,l)+"px"}),"resize"===o&&(f=parseFloat(i.attr("bigfoot-max-width")),n=i.find(".bigfoot-footnote__wrapper"),c=f,1>=f&&(p=function(){var e,o;return o=1e4,T.maxWidthRelativeTo&&(e=t(T.maxWidthRelativeTo)).length>0&&(o=e.outerWidth()),Math.min(window.innerWidth,o)}(),c=p*f),c=Math.min(c,i.find(".bigfoot-footnote__content").outerWidth()+1),n.css("max-width",c+"px"),i.css({left:-v.leftRelative*c+parseFloat(e.css("margin-left"))+e.outerWidth()/2+"px"}),b(i,v.leftRelative)),parseInt(i.outerHeight())<i.find(".bigfoot-footnote__content")[0].scrollHeight?i.addClass("is-scrollable"):void 0}))},b=function(t,e){var o;null==e&&(e=.5),(o=t.find(".bigfoot-footnote__tooltip")).length>0&&o.css("left",100*e+"%")},_=function(t){var e,o,n,i,a,r;return o=parseFloat(t.css("margin-left")),n=parseFloat(t.outerWidth())-o,e=parseFloat(t.outerHeight()),r=N(),a=t.offset().top-r.scrollY+e/2,i=t.offset().left-r.scrollX+n/2,{topRoom:a,bottomRoom:r.height-a,leftRoom:i,rightRoom:r.width-i,leftRelative:i/r.width,topRelative:a/r.height}},N=function(){return{width:window.innerWidth,height:window.innerHeight,scrollX:window.scrollX,scrollY:window.scrollY}},o=function(t,e,o,n,a){var r,s,l,d,c,f,u;return null==n&&(n=T.popoverDeleteDelay),null==a&&(a=!0),d=void 0,s=void 0,f=void 0,"string"==typeof t?(f="iphone"===t.toLowerCase()?"<320px":"ipad"===t.toLowerCase()?"<768px":t,s=">"===f.charAt(0)?"min":"<"===f.charAt(0)?"max":null,c=s?"("+s+"-width: "+f.substring(1)+")":f,d=window.matchMedia(c)):d=t,d.media&&"invalid"===d.media?{added:!1,mq:d,listener:null}:(u="min"===s,r="max"===s,e=e||g(a,n,u,function(t){return t.addClass("is-bottom-fixed")}),o=o||g(a,n,r,function(){}),l=function(t){t.matches?e(a,i):o(a,i)},d.addListener(l),l(d),T.breakpoints[t]={added:!0,mq:d,listener:l},T.breakpoints[t])},g=function(t,e,o,n){return function(t,i){var a;return a=void 0,t&&(a=i.close(),i.updateSetting("activateCallback",n)),setTimeout(function(){return i.updateSetting("positionContent",o),t?i.activate(a):void 0},e)}},y=function(t,e){var o,n,i;if(null,o=void 0,i=!1,"string"==typeof t)i=void 0!==T.breakpoints[t];else for(o in T.breakpoints)T.breakpoints.hasOwnProperty(o)&&T.breakpoints[o].mq===t&&(i=!0);return i&&(n=T.breakpoints[o||t],e?e({matches:!1}):n.listener({matches:!1}),n.mq.removeListener(n.listener),delete T.breakpoints[o||t]),i},F=function(t,e){var o,n;if(o=void 0,"string"==typeof t)o=T[t],T[t]=e;else{o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=T[n],T[n]=t[n])}return o},v=function(t){return T[t]},t(document).ready(function(){return p(),t(document).on("mouseenter",".bigfoot-footnote__button",a),t(document).on("touchend click",k),t(document).on("mouseout",".is-hover-instantiated",x),t(document).on("keyup",u),t(window).on("scroll resize",w),t(document).on("gestureend",function(){return w()})}),i={removePopovers:O,close:O,createPopover:d,activate:d,repositionFeet:w,reposition:w,addBreakpoint:o,removeBreakpoint:y,getSetting:v,updateSetting:F}}}(jQuery)}.call(this);
